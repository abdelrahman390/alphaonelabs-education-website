; [pytest]
; DJANGO_SETTINGS_MODULE = web.settings
; python_files = test_*.py tests.py *_tests.py
; addopts = --keepdb -n 4 --reuse-db --no-migrations --durations=10 --cov=web --cov-report=term-missing
; filterwarnings =
;     ignore::DeprecationWarning
;     ignore::UserWarning

[pytest]
DJANGO_SETTINGS_MODULE = web.settings
python_files = test_*.py tests.py *_tests.py
# Change -n auto to a specific number based on CPU cores (e.g., 4)
addopts = --keepdb -n 4 --reuse-db --no-migrations --durations=10 --tb=native
# Split coverage runs from normal test runs to speed up testing
# Add the --cov flags only when explicitly running coverage
# addopts = --keepdb -n 4 --reuse-db --no-migrations --durations=10 --cov=web --cov-report=term-missing
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning
# Add markers for selective test runs
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    fast: marks tests as fast (run only with '-m fast')
