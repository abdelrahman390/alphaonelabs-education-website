{% extends "base.html" %} {% block content %}
<div class="container mx-auto max-w-2xl px-6 py-10">
	<div class="bg-white dark:bg-gray-800 shadow-md rounded-lg p-8">
		<!-- Title -->
		<h1
			class="text-3xl font-bold text-gray-900 dark:text-white text-center mb-4"
		>
			Week {{ current_challenge.week_number }}: {{ current_challenge.title }}
		</h1>
		<!-- Current_challenge Description -->
		<p class="text-lg text-gray-700 dark:text-gray-300 text-center mb-4"
			>{{ current_challenge.description }}</p
		>
		<!-- Current_challenge Period -->
		<p class="text-sm text-gray-600 dark:text-gray-400 text-center mb-6">
			<strong>Current_challenge Period:</strong> {{ current_challenge.start_date
			}} to {{ current_challenge.end_date }}
		</p>
		<!-- Submit Button (Only show if the user hasn't submitted yet) -->
		{% if user.is_authenticated %} {% if user_submission %}
		<div
			class="bg-yellow-100 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-100 p-4 rounded-lg text-center mb-6"
		>
			🎉 You have already submitted this current_challenge.
		</div>
		{% else %}
		<div class="text-center mb-6">
				Submit Your Result
			</a>
		</div>
		{% endif %} {% else %}
		<div
			class="bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-100 p-4 rounded-lg text-center mb-6"
		>
			🔒 Please log in to submit your result.
		</div>
		{% endif %}
		<!-- Submissions Section -->
		<h2 class="text-2xl font-semibold text-gray-900 dark:text-white mt-8 mb-4"
			>Submissions:</h2
		>
		{% if submissions %}
		<ul class="space-y-4">
			{% for sub in submissions %}
			<li class="bg-gray-100 dark:bg-gray-900 shadow-sm rounded-lg p-4">
				<div class="flex items-center justify-between">
					<span class="font-semibold text-gray-800 dark:text-gray-200"
						>{{ sub.user.username }}</span
					>
					<span class="text-sm text-gray-500 dark:text-gray-400"
						>{{ sub.submitted_at }}</span
					>
				</div>
				<p class="mt-2 text-gray-700 dark:text-gray-300"
					>{{ sub.submission_text }}</p
				>
			</li>
			{% endfor %}
		</ul>
		{% else %}
		<p class="text-center text-gray-500 dark:text-gray-400"
			>No submissions yet.</p
		>
		{% endif %}
	</div>
</div>
{% endblock content %}
